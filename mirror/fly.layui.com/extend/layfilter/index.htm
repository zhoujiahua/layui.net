<!DOCTYPE html><html><head> <meta charset="utf-8"> <title>layfilter 叠加过滤搜索组件 layfilter - layui 第三方组件平台</title> <meta name="renderer" content="webkit"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> <meta name="description" content="实现如淘宝页面的过滤搜索功能，可以单选，可以复选等"> <link rel="stylesheet" href="../../../other/t/font_24081_60slu02pimt.css" tppabs="https://at.alicdn.com/t/font_24081_60slu02pimt.css"><link rel="stylesheet" href="../../../res.layui.com/layui/dist/css/layui.css-t=111.css" tppabs="https://res.layui.com/layui/dist/css/layui.css?t=111"><link rel="stylesheet" href="../../../res.layui.com/static/css/fly/global.css-t=1116.css" tppabs="https://res.layui.com/static/css/fly/global.css?t=1116" charset="utf-8"><link rel="stylesheet" href="../../../res.layui.com/static/css/global.css-t=111.css" tppabs="https://res.layui.com/static/css/global.css?t=111" charset="utf-8"><script>;!function(){if(self !==parent){try {if(parent.location.host.indexOf('.layui.com') !==-1){return;} } catch(e){location.href ="https://www.baidu.com/";} } }();</script> <link rel="stylesheet" href="../../../res.layui.com/static/css/global.css-t=111.css" tppabs="https://res.layui.com/static/css/global.css?t=111" charset="utf-8"></head><body><div class="layui-header header header-extends" style="background-color: #24262F;"> <div class="layui-container"> <a class="logo" href="../../../www.layui.com/index.htm" tppabs="https://www.layui.com/"> <img src="../../../res.layui.com/static/images/layui/logo.png" tppabs="https://res.layui.com/static/images/layui/logo.png" alt="layui"> </a> <div class="layui-form component" lay-filter="LAY-site-header-component"></div> <ul class="layui-nav"> <li class="layui-nav-item layui-hide-xs"> <a href="../../../www.layui.com/index.htm" tppabs="https://www.layui.com/">框架</a> </li> <li class="layui-nav-item layui-hide-xs layui-this"> <a href="../index.htm" tppabs="https://fly.layui.com/extend/">扩展</a> </li> <li class="layui-nav-item"> <a href="javascript:;">周边</a> <dl class="layui-nav-child layui-nav-child-c"> <dd lay-unselect> <a href="../../../www.layui.com/alone.html" tppabs="https://www.layui.com/alone.html" target="_blank">独立组件</a> </dd> <dd class="layui-hide-sm layui-show-xs" lay-unselect> <a href="../index.htm" tppabs="https://fly.layui.com/extend/">扩展组件</a> <hr> </dd>  </dl> </li> <li class="layui-nav-item"> <a href="javascript:;">专区</a> <dl class="layui-nav-child layui-nav-child-c"> <dd lay-unselect> <a href="javascript:if(confirm(%27https://fly.layui.com/groups/list/layuiadmin/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://fly.layui.com/groups/list/layuiadmin/%27" tppabs="https://fly.layui.com/groups/list/layuiadmin/">layuiAdmin</a> <hr> </dd> <dd lay-unselect> <a href="javascript:if(confirm(%27https://fly.layui.com/groups/list/layim/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://fly.layui.com/groups/list/layim/%27" tppabs="https://fly.layui.com/groups/list/layim/" target="_blank">LayIM</a> </dd> </dl> </li> <li class="layui-nav-item"> <a class="iconfont icon-touxiang" href="javascript:if(confirm(%27https://fly.layui.com/user/login/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://fly.layui.com/user/login/%27" tppabs="https://fly.layui.com/user/login/"></a> </li> </ul> </div></div><!--[if lt IE 9]>  <script src="../../../other/html5shiv/r29/html5.min.js" tppabs="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>  <script src="../../../other/respond.js/1.4.2/respond.min.js" tppabs="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script><![endif]--> <div class="fly-extend-banner fly-extend-banner-sm"> <div class="layui-carousel" id="FLY-extend-banner" data-height="200px"> <div carousel-item> <div style="background-image: url(../../../other/upload/2018_8/168_1535373858670_8825.jpg)/*tpa=https://cdn.layui.com/upload/2018_8/168_1535373858670_8825.jpg*/"> <div style="background: rgba(0,0,0,.6)"></div> </div> </div> </div> <h1 class="fly-extend-banner-title">layui 第三方组件平台</h1> <div class="fly-extend-banner-release"> <a href="../index.htm" tppabs="https://fly.layui.com/extend/" class="layui-btn layui-btn-lg">返回首页</a> <a href="javascript:if(confirm(%27https://fly.layui.com/user/login/?redirect=%2Fextend%2Frelease%2F  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://fly.layui.com/user/login/?redirect=%2Fextend%2Frelease%2F%27" tppabs="https://fly.layui.com/extend/release/" class="layui-btn layui-btn-lg">发布组件</a> </div> </div><div class="fly-extend-detail layui-card"> <div class="layui-container"> <div class="fly-extend-list-header"> <h1 class="fly-extend-title layui-elip"> <a>layfilter 叠加过滤搜索组件</a> <span class="layui-badge layui-bg-green layui-hide-xs">layfilter</span> </h1> <div class="fly-extend-list-info"> <a href="javascript:if(confirm(%27https://fly.layui.com/u/9055032  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://fly.layui.com/u/9055032%27" tppabs="https://fly.layui.com/u/9055032" target="_blank" class="fly-extend-list-user" title="发布者"> <cite class="layui-hide-xs">凡繁**烦</cite> <img src="../../../other/avatar/9055032.gif-t=1541583631324.gif" tppabs="https://cdn.layui.com/avatar/9055032.gif?t=1541583631324" alt="凡繁**烦"> </a> </div> </div> <blockquote class="fly-extend-list-desc layui-elem-quote"> <p>实现如淘宝页面的过滤搜索功能，可以单选，可以复选等</p> </blockquote> <div class="fly-extend-list-bottom"> <span class="layui-inline">更新：2020-4-6 </span> <span class="layui-inline">创建：2019-2-26 </span> <div class="layui-btn-container layui-extend-doc-edit"> </div> </div> </div></div><div class="layui-container"> <div class="layui-row layui-col-space20"> <div class="layui-col-sm3 layui-col-md2"> <div class="layui-card"> <ul class="fly-extend-doc-nav" lay-filter="extend-doc-nav"> <li class="layui-this" lay-id="doc"> <a href="javascript:;"><i class="iconfont icon-wendang"></i> 文档</a> </li> <li lay-id="download"> <a href="javascript:;"><i class="iconfont icon-xiazai"></i> 下载</a> </li> <li lay-id=""> <a href="javascript:if(confirm(%27https://layui.52fansite.com/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://layui.52fansite.com/%27" tppabs="https://layui.52fansite.com/" rel="nofollow" target="_blank"> <i class="iconfont icon-kaifashili"></i> 来源 </a> </li> </ul> </div> </div> <div class="layui-col-sm9 layui-col-md10"> <div class="layui-card fly-extend-doc layui-show"> <div class="layui-card-header"> <h3 class="layui-inline layui-this">文档</h3> </div> <div class="layui-card-body detail-body photos layui-text"> <div class="layui-elem-quote"> 1.引入 laymock 和 layfilter 组件</div><pre>layui.config({<br>    base: &#39;../layui_exts/&#39; //配置 layui 第三方扩展组件存放的基础目录<br>  }).extend({<br>    laymock:&#39;laymock/laymock&#39;, //mock数据<br>    layfilter:&#39;layfilter/layfilter&#39;<br>  });</pre><div class="layui-elem-quote"> 2.使用组件</div><pre>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>  &lt;meta charset=&quot;utf-8&quot;&gt;<br>  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;<br>  &lt;title&gt;layui扩展组件layfilter和laymock&lt;/title&gt;<br>  &lt;link rel=&quot;stylesheet&quot; href=&quot;/layui/css/layui.css&quot; media=&quot;all&quot;&gt;<br>  &lt;style&gt;<br>    body{margin: 10px;}<br>    .demo-carousel{height: 200px; line-height: 200px; text-align: center;}<br>  &lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;div id=&quot;layfilter&quot; lay-filter=&quot;layfilter&quot;&gt;&lt;/div&gt;<br>&lt;div style=&quot;margin-top: 10px;&quot;&gt;<br>  &lt;button class=&quot;layui-btn layui-btn-primary&quot; id=&quot;getvalBtn&quot;&gt;获取选中值&lt;/button&gt;<br>  &lt;button class=&quot;layui-btn layui-btn-primary&quot; id=&quot;getDataBtn&quot;&gt;查看数据接口出参&lt;/button&gt;<br>&lt;/div&gt;<br><br>&lt;table class=&quot;layui-hide&quot; id=&quot;demo&quot; lay-filter=&quot;test&quot;&gt;&lt;/table&gt;<br> <br>&lt;script type=&quot;text/html&quot; id=&quot;barDemo&quot;&gt;<br>  &lt;a class=&quot;layui-btn layui-btn-primary layui-btn-xs&quot; lay-event=&quot;detail&quot;&gt;查看&lt;/a&gt;<br>  &lt;a class=&quot;layui-btn layui-btn-xs&quot; lay-event=&quot;edit&quot;&gt;编辑&lt;/a&gt;<br>  &lt;a class=&quot;layui-btn layui-btn-danger layui-btn-xs&quot; lay-event=&quot;del&quot;&gt;删除&lt;/a&gt;<br>&lt;/script&gt;<br>  <br>&lt;script src=&quot;layui/layui.js&quot;&gt;&lt;/script&gt;<br>&lt;script src=&quot;js/common.js&quot;&gt;&lt;/script&gt;<br>&lt;script&gt;<br>layui.config({<br>  version: &#39;1545041465443&#39; //为了更新 js 缓存，可忽略<br>});<br> <br>layui.use([ &#39;layer&#39;, &#39;table&#39;,&#39;laymock&#39;,&#39;layfilter&#39;], function(){<br>  var $ = layui.jquery;<br>  var layer = layui.layer //弹层<br>  ,table = layui.table //表格<br>  ,laymock = layui.laymock<br>  ,layfilter = layui.layfilter;<br><br>    laymock.mockData(RegExp(&#39;http://127.0.0.1:5500/user/list.*&#39;),&#39;get&#39;,function(option){<br>        var limit = getUrlParam(option.url,&#39;limit&#39;);<br>        var data = {&#39;code&#39;:0,&#39;msg&#39;:&#39;&#39;,&#39;count&#39;:100,&#39;data|{count}&#39;:[<br>                {&quot;userName&quot; : &#39;@<a href="javascript:;" class="fly-aite">cname&#39;,</a>     //模拟名称<br>                &quot;id&quot;:&quot;@<a href="javascript:;" class="fly-aite">id&quot;,</a><br>                &quot;age|1-100&quot;:10,          //模拟年龄(1-100)<br>                &quot;color&quot;    : &quot;@<a href="javascript:;" class="fly-aite">color&quot;,</a>    //模拟色值<br>                &quot;date&quot;     : &quot;@<a href="javascript:;" class="fly-aite">date(&#39;yyyy-MM-dd&#39;)&quot;,</a>  //模拟时间<br>                &quot;url&quot;      : &quot;@<a href="javascript:;" class="fly-aite">url()&quot;,</a>     //模拟url<br>                &quot;sign&quot;  : &quot;@<a href="javascript:;" class="fly-aite">cparagraph()&quot;,</a> //模拟文本<br>                &quot;score|-20-100&quot;:100,<br>                &quot;sex|1-2&quot;:2,<br>                &quot;avatar&quot;:&quot;@<a href="javascript:;" class="fly-aite">image&quot;</a><br>                }]<br>            }<br>        data = JSON.parse(JSON.stringify(data).replace(&#39;{count}&#39;,limit));<br>        return laymock.mock.mock(data);<br>        }<br>            <br>    );<br>  <br>  //向世界问个好<br>  layer.msg(&#39;Hello World&#39;);<br><br>  var dataSource = <br><br>  layfilter.render({<br>      elem:&#39;#layfilter&#39;,<br>      itemWidth:[100],<br>      height:200,<br>      url:&#39;/json/filter.json&#39;,<br>      dataSource:dataSource,<br>  });<br><br>  $(&#39;#getvalBtn&#39;).click(function(){<br>    layfilter.getValue(function(data){<br>      layer.alert(JSON.stringify(data));<br>    })<br>  });<br>  $(&quot;#getDataBtn&quot;).click(function(){<br>    $.getJSON(&#39;/json/filter.json&#39;,function(res){<br>      layer.alert(JSON.stringify(res));<br>    })<br>  })<br>  layfilter.on(&#39;click(layfilter)&#39;,function(obj){<br>        console.log(obj);<br>  })<br>  <br>  //执行一个 table 实例<br>  table.render({<br>    elem: &#39;#demo&#39;<br>    ,height: 420<br>    ,url: &#39;http://127.0.0.1:5500/user/list&#39; //数据接口<br>    ,title: &#39;用户表&#39;<br>    ,page: true //开启分页<br>    ,toolbar: &#39;default&#39; //开启工具栏，此处显示默认图标，可以自定义模板，详见文档<br>    ,totalRow: true //开启合计行<br>    ,cols: [[ //表头<br>      {type: &#39;checkbox&#39;, fixed: &#39;left&#39;}<br>      ,{field: &#39;id&#39;, title: &#39;ID&#39;}<br>      ,{field: &#39;id&#39;, title: &#39;avatar&#39;,templet:function(d){<br>          return &#39;&lt;image src=&#39;+d.avatar+&#39;/&gt;&#39;<br>      }}<br>      ,{field: &#39;userName&#39;, title: &#39;用户名&#39;}<br>      ,{field: &#39;age&#39;, title: &#39;年龄&#39;, sort: true, totalRow: true}<br>      ,{field: &#39;sex&#39;, title: &#39;性别&#39;, templet:function(d){<br>          return d.sex==1?&#39;男&#39;:&#39;女&#39;<br>      }}<br>      ,{field: &#39;score&#39;, title: &#39;评分&#39;, sort: true, totalRow: true}<br>      ,{field: &#39;sign&#39;, title: &#39;签名&#39;,templet:function(d){<br>          return &#39;&lt;span style=&quot;color:&#39;+d.color+&#39;&quot;&gt;&#39;+d.sign+&#39;&lt;/span&gt;&#39;<br>      }}<br>      ,{fixed: &#39;right&#39;, width: 165, align:&#39;center&#39;, toolbar: &#39;#barDemo&#39;}<br>    ]]<br>  });<br>  <br>  //监听头工具栏事件<br>  table.on(&#39;toolbar(test)&#39;, function(obj){<br>    var checkStatus = table.checkStatus(obj.config.id)<br>    ,data = checkStatus.data; //获取选中的数据<br>    switch(obj.event){<br>      case &#39;add&#39;:<br>        layer.msg(&#39;添加&#39;);<br>      break;<br>      case &#39;update&#39;:<br>        if(data.length === 0){<br>          layer.msg(&#39;请选择一行&#39;);<br>        } else if(data.length &gt; 1){<br>          layer.msg(&#39;只能同时编辑一个&#39;);<br>        } else {<br>          layer.alert(&#39;编辑 [id]：&#39;+ checkStatus.data[0].id);<br>        }<br>      break;<br>      case &#39;delete&#39;:<br>        if(data.length === 0){<br>          layer.msg(&#39;请选择一行&#39;);<br>        } else {<br>          layer.msg(&#39;删除&#39;);<br>        }<br>      break;<br>    };<br>  });<br>  <br>  //监听行工具事件<br>  table.on(&#39;tool(test)&#39;, function(obj){ //注：tool 是工具条事件名，test 是 table 原始容器的属性 lay-filter=&quot;对应的值&quot;<br>    var data = obj.data //获得当前行数据<br>    ,layEvent = obj.event; //获得 lay-event 对应的值<br>    if(layEvent === &#39;detail&#39;){<br>      layer.msg(&#39;查看操作&#39;);<br>    } else if(layEvent === &#39;del&#39;){<br>      layer.confirm(&#39;真的删除行么&#39;, function(index){<br>        obj.del(); //删除对应行（tr）的DOM结构<br>        layer.close(index);<br>        //向服务端发送删除指令<br>      });<br>    } else if(layEvent === &#39;edit&#39;){<br>      layer.msg(&#39;编辑操作&#39;);<br>    }<br>  });<br>  <br>});<br>&lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;        </pre>说明：mock看官网说明：http://mockjs.com/<br>具体内容请下载之后运行查看<br><img src="../../../other/upload/2019_2/9055032_1551231282047_53581.jpg" tppabs="https://cdn.layui.com/upload/2019_2/9055032_1551231282047_53581.jpg"> <br>更新日志<br>2019/2/27 解决多选取消后取值依然存在的bug </div> </div> <div class="layui-card fly-extend-doc"> <div class="layui-card-header"> <h3 class="layui-inline layui-this">下载</h3> </div> <div class="layui-card-body detail-body layui-text"> <div class="layui-btn-container"> <a href="javascript:if(confirm(%27https://cdn.layui.com/extend/9055032_1551231399420_24180.rar  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://cdn.layui.com/extend/9055032_1551231399420_24180.rar%27" tppabs="https://cdn.layui.com/extend/9055032_1551231399420_24180.rar" target="_blank" class="layui-btn layui-btn-lg layui-btn-primary"> 立即下载 </a> <a href="https://gitee.com/lyfweb/layfilter.git" target="_blank" class="layui-btn layui-btn-lg layui-btn-primary layui-border-red"> 去码云下载 </a> <a href="https://github.com/java-lyf/layfilter.git" target="_blank" class="layui-btn layui-btn-lg layui-btn-primary layui-border-black"> 去 GitHub 下载 </a> <blockquote class="layui-elem-quote"> 该扩展组件由第三方用户主动投递，并由其自身进行维护，本站仅做收集。 </blockquote> </div> </div> </div> </div> </div></div><div class="fly-footer"> <p>Copyright &copy; 2021 <a href="javascript:if(confirm(%27https://fly.layui.com/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://fly.layui.com/%27" tppabs="https://fly.layui.com/">layui.com</a> MIT Licensed</p> <p> <a href="javascript:if(confirm(%27https://fly.layui.com/about/disclaimer.html  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://fly.layui.com/about/disclaimer.html%27" tppabs="https://fly.layui.com/about/disclaimer.html" target="_blank">免责声明</a> <a href="https://github.com/sentsin/layui/" target="_blank" rel="nofollow">GitHub</a> <a href="https://gitee.com/sentsin/layui" target="_blank" rel="nofollow">Gitee</a> <a href="javascript:if(confirm(%27http://fly.layui.com/jie/2461/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://fly.layui.com/jie/2461/%27" tppabs="http://fly.layui.com/jie/2461/" target="_blank">公众号</a> <a target="_blank" href="javascript:if(confirm(%27http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=36010902000274  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=36010902000274%27" tppabs="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=36010902000274" rel="nofollow"> <img src="../../../other/upload/2021_8/168_1628847893037_87773.png" tppabs="https://cdn.layui.com/upload/2021_8/168_1628847893037_87773.png"> 公网安备 00000000000000号 </a> <a href="javascript:if(confirm(%27http://beian.miit.gov.cn/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://beian.miit.gov.cn/%27" tppabs="http://beian.miit.gov.cn/" target="_blank" rel="nofollow">ICP备00000000号</a> </p> <div class="fly-union"> <p style="display: block; margin-bottom: 10px;"><span>感谢以下平台提供云加速支持</span></div><script src="../../../res.layui.com/layui/dist/layui.js" tppabs="https://res.layui.com/layui/dist/layui.js?t=111"></script><script>layui.cache.page ='extends';layui.cache.user ={username:'游客' ,uid:-1 ,avatar:'../../../res.layui.com/static/images/fly/avatar/default.png'/*tpa=https://res.layui.com/static/images/fly/avatar/default.png*/ ,experience:0 ,sum:0 ,vip:0 ,sex:''};layui.config({version:"111"}).extend({'fly':'../../../res.layui.com/static/lay/modules/fly/index'}).use('fly');</script> </body></html>